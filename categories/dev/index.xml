<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>dev on posts</title><link>http://seiji.github.io/categories/dev/</link><description>Recent content in dev on posts</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sun, 01 Dec 2019 00:50:02 +0900</lastBuildDate><atom:link href="http://seiji.github.io/categories/dev/index.xml" rel="self" type="application/rss+xml"/><item><title>Move multiple items in terraform states</title><link>http://seiji.github.io/post/2019-11-30-terraform-mv-items-in-state/</link><pubDate>Sun, 01 Dec 2019 00:50:02 +0900</pubDate><guid>http://seiji.github.io/post/2019-11-30-terraform-mv-items-in-state/</guid><description>Some of terraform state commands can be used in case that modify the terraform state.
We use terraform state mv command to move items or rename items in that state, enabling efficient refactoring.
terraform versions $ terraform -v Terraform v0.12.16 + provider.aws v2.40.0 All resources within a terraform state. $ terraform state list module.cloud_trails.data.aws_caller_identity.this module.cloud_trails.aws_cloudtrail.this module.cloud_trails.aws_s3_bucket.this module.cloud_trails.aws_s3_bucket_policy.this module.guard_duty.aws_guardduty_detector.this Example: Rename module.cloud_trails.* to module.cloudtrail.* $ terraform state mv -dry-run &amp;#39;module.cloud_trails&amp;#39; &amp;#39;module.</description></item></channel></rss>